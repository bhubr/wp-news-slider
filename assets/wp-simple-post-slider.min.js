Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{value:function(a){if(console.log("using fucking polyfill"),null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(2==arguments.length)b=arguments[1];else{for(;e<d&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;e<d;)e in c&&(b=a(b,c[e],e,c)),e++;return b}}),function(a){a(window).on("load",function(){function b(b,c){function d(a){var b=/(\d+(\.\d+)?)px.*/,c=["padding-left","padding-right","border-left","border-right"].reduce(function(c,d){var e=b.exec(a.css(d));return null!==e?c+parseInt(e[1],10):c},0);return c}function e(b){a(s[C]);a(w[C]).removeClass("active"),void 0!==b?C=b:C++,C>=s.length&&(C=0),C<0&&(C=s.length-1),a(w[C]).addClass("active"),q?r.css({top:-C*D+"px"}):r.css({left:2-C*j+"px"})}function f(){var a=l.width()-u,b=a/p.aspectRatio;t.width(a),o.width(a-10),t.height(b),s.width(a+2),s.height((a+2)/p.aspectRatio)}function g(){j=v.width(),r.css("width",j*s.length),s.width(j),e(C)}function h(){return null!==B}function i(a){clearInterval(B),B=a&&h()?setInterval(e,p.interval):null}var j,k=a(c),l=k.parent(),m=(k.attr("id"),k.data("options")),n={interval:1e3*m.interval,direction:m.direction,autoplay:m.autoplay,aspectRatio:parseFloat(m.aspect_ratio)},o=k.find(".inner-mask"),p=a.extend({interval:5e3,direction:"vertical",autoplay:!1,aspectRatio:1.25},n),q="vertical"===p.direction,r=k.find(".thumbs-wrapper"),s=k.find(".excerpt"),t=k.find(".mask"),u=d(l),v=a(s[0]),w=k.find(".numbered-btn"),x=k.find(".icon-play2"),y=k.find(".icon-stop"),z=k.find(".icon-backward"),A=k.find(".icon-forward2"),B=null,C=0,D=250;p.autoplay&&(B=setInterval(e,p.interval)),f(),a(window).on("resize",f),q||(g(),a(window).on("resize",g)),w.click(function(b){e(a(this).data("idx")-1),i(!0)}),z.click(function(a){e(C-1),i(!0)}),A.click(function(){e(C+1),i(!0)}),y.click(function(){i(!1)}),x.click(function(){e(),B=setInterval(e,p.interval)})}var c=a(".wp-sps-wrapper");c.each(b)})}(void 0!==Zepto?Zepto:jQuery);