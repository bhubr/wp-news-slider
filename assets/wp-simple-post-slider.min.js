Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{value:function(a){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(2==arguments.length)b=arguments[1];else{for(;e<d&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;e<d;)e in c&&(b=a(b,c[e],e,c)),e++;return b}}),function(a){a(window).on("load",function(){function b(b,c){function d(a){var b=/(\d+(\.\d+)?)px.*/,c=["padding-left","padding-right","border-left","border-right"].reduce(function(c,d){var e=b.exec(a.css(d));return null!==e?c+parseInt(e[1],10):c},0);return c}function e(b){a(t[D]);a(x[D]).removeClass("active"),void 0!==b?D=b:D++,D>=t.length&&(D=0),D<0&&(D=t.length-1),a(x[D]).addClass("active"),r?s.css({top:-D*E+"px"}):s.css({left:2-D*j+"px"})}function f(){var a=l.width()-v,b=a/q.aspectRatio;u.width(a),p.width(a-10),u.height(b),t.width(a+2),t.height((a+2)/q.aspectRatio)}function g(){j=w.width(),s.css("width",j*t.length),t.width(j),e(D)}function h(){return null!==C}function i(a){clearInterval(C),C=a&&h()?setInterval(e,q.interval):null}var j,k=a(c),l=k.parent(),m=(k.attr("id"),k.data("options")),n=k.data("images"),o={interval:1e3*m.interval,direction:m.direction,autoplay:m.autoplay,aspectRatio:parseFloat(m.aspect_ratio)},p=k.find(".inner-mask"),q=a.extend({interval:5e3,direction:"vertical",autoplay:!1,aspectRatio:1.25},o),r="vertical"===q.direction,s=k.find(".thumbs-wrapper"),t=k.find(".excerpt"),u=k.find(".mask"),v=d(l),w=a(t[0]),x=k.find(".numbered-btn"),y=k.find(".icon-play2"),z=k.find(".icon-stop"),A=k.find(".icon-backward"),B=k.find(".icon-forward2"),C=null,D=0,E=250;q.autoplay&&(C=setInterval(e,q.interval)),f(),a(window).on("resize",f),r||(g(),a(window).on("resize",g)),a(".thumb-first").removeClass("thumb-first"),n.forEach(function(b){a("#"+b.id).replaceWith(b.thumbnail)}),x.click(function(b){e(a(this).data("idx")-1),i(!0)}),A.click(function(a){e(D-1),i(!0)}),B.click(function(){e(D+1),i(!0)}),z.click(function(){i(!1)}),y.click(function(){e(),C=setInterval(e,q.interval)})}var c=a(".wp-sps-wrapper");c.each(b)})}(void 0!==Zepto?Zepto:jQuery);