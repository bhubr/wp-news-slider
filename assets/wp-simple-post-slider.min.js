!function(a){a(window).load(function(){function b(b,c){function d(b){a(p[x]);a(r[x]).removeClass("active"),void 0!==b?x=b:x++,x>=p.length&&(x=0),x<0&&(x=p.length-1),a(r[x]).addClass("active"),n?o.animate({top:-x*y+"px"},350):o.animate({left:-x*i+"px"},350)}function e(){var b=q.find("h3").outerHeight(),c=0,d=[];p.each(function(e,f){var g=a(f),h=g.find(".thumb-content").outerHeight(),i=g.find(".thumb-image img").outerHeight()+14,j=Math.max(h,i);j>c&&(c=j),d.push({thumb:g,height:j+b+12})}),y=b+c+12,d.forEach(function(a){var b=Math.floor((y-a.height)/2);console.log("total h",y,"this h",a.height,"vp",b)}),j.find(".mask").css("height",y),j.find(".thumbs-wrapper .excerpt").css("height",y)}function f(){i=q.outerWidth(),console.log(q.innerWidth(),q.outerWidth()),o.css("width",i*p.length)}function g(){return null!==w}function h(a){clearInterval(w),w=a&&g()?setInterval(d,m.interval):null}var i,j=a(c),k=(j.attr("id"),j.data("options")),l={interval:1e3*k.interval,direction:k.direction,autoplay:k.autoplay},m=a.extend({interval:5e3,direction:"vertical",autoplay:!1},l),n="vertical"===m.direction,o=j.find(".thumbs-wrapper"),p=j.find(".excerpt"),q=a(p[0]),r=j.find(".numbered-btn"),s=j.find(".icon-play2"),t=j.find(".icon-stop"),u=j.find(".icon-backward"),v=j.find(".icon-forward2"),w=null,x=0,y=250;m.autoplay&&(w=setInterval(d,m.interval)),n||(f(),a(window).on("resize",f)),e(),a(window).on("resize",e),r.click(function(b){d(a(this).data("idx")-1),h(!0)}),u.click(function(a){d(x-1),h(!0)}),v.click(function(){d(x+1),h(!0)}),t.click(function(){h(!1)}),s.click(function(){d(),w=setInterval(d,m.interval)})}a(".wp-sps-wrapper").each(b)})}(jQuery);