Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{value:function(a){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(2==arguments.length)b=arguments[1];else{for(;e<d&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;e<d;)e in c&&(b=a(b,c[e],e,c)),e++;return b}}),function(a){a(window).on("load",function(){function b(b,c){function d(b){a(r[A]);a(u[A]).removeClass("active"),void 0!==b?A=b:A++,A>=r.length&&(A=0),A<0&&(A=r.length-1),a(u[A]).addClass("active"),p?q.css({top:-A*B+"px"}):q.css({left:2-A*i+"px"})}function e(){var a=k.width(),b=a/o.aspectRatio;console.log(a,b),s.width(a),n.width(a-10),s.height(b),r.width(a+2),r.height((a+2)/o.aspectRatio)}function f(){i=t.width(),q.css("width",i*r.length),r.width(i),d(A)}function g(){return null!==z}function h(a){clearInterval(z),z=a&&g()?setInterval(d,o.interval):null}var i,j=a(c),k=j.parent(),l=(j.attr("id"),j.data("options")),m={interval:1e3*l.interval,direction:l.direction,autoplay:l.autoplay,aspectRatio:parseFloat(l.aspect_ratio)},n=j.find(".inner-mask"),o=a.extend({interval:5e3,direction:"vertical",autoplay:!1,aspectRatio:1.25},m),p="vertical"===o.direction,q=j.find(".thumbs-wrapper"),r=j.find(".excerpt"),s=j.find(".mask"),t=a(r[0]),u=j.find(".numbered-btn"),v=j.find(".icon-play2"),w=j.find(".icon-stop"),x=j.find(".icon-backward"),y=j.find(".icon-forward2"),z=null,A=0,B=250;o.autoplay&&(z=setInterval(d,o.interval)),e(),a(window).on("resize",e),p||(f(),a(window).on("resize",f)),u.click(function(b){d(a(this).data("idx")-1),h(!0)}),x.click(function(a){d(A-1),h(!0)}),y.click(function(){d(A+1),h(!0)}),w.click(function(){h(!1)}),v.click(function(){d(),z=setInterval(d,o.interval)})}var c=a(".wp-sps-wrapper");c.each(b)})}(void 0!==Zepto?Zepto:jQuery);