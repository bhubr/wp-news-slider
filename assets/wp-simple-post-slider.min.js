Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{value:function(a){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(2==arguments.length)b=arguments[1];else{for(;e<d&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;e<d;)e in c&&(b=a(b,c[e],e,c)),e++;return b}}),function(a){a(window).on("load",function(){function b(b,c){function d(a){var b=/(\d+)px.*/,c=["padding-left","padding-right","border-left","border-right"].reduce(function(c,d){var e=b.exec(a.css(d));if(null!==e)return c+parseInt(e[1],10)},0);return c}function e(b){a(s[D]);a(x[D]).removeClass("active"),void 0!==b?D=b:D++,D>=s.length&&(D=0),D<0&&(D=s.length-1),a(x[D]).addClass("active"),q?r.css({top:-D*E+"px"}):r.css({left:2-D*j+"px"})}function f(){var a=l.width()-v-u,b=a/p.aspectRatio;t.width(a),o.width(a),t.height(b),s.width(a+2),s.height((a+2)/p.aspectRatio)}function g(){j=w.width(),r.css("width",j*s.length),s.width(j),e(D)}function h(){return null!==C}function i(a){clearInterval(C),C=a&&h()?setInterval(e,p.interval):null}var j,k=a(c),l=k.parent(),m=(k.attr("id"),k.data("options")),n={interval:1e3*m.interval,direction:m.direction,autoplay:m.autoplay,aspectRatio:parseFloat(m.aspect_ratio)},o=k.find(".inner-mask"),p=a.extend({interval:5e3,direction:"vertical",autoplay:!1,aspectRatio:1.25},n),q="vertical"===p.direction,r=k.find(".thumbs-wrapper"),s=k.find(".excerpt"),t=k.find(".mask"),u=d(t),v=d(l),w=a(s[0]),x=k.find(".numbered-btn"),y=k.find(".icon-play2"),z=k.find(".icon-stop"),A=k.find(".icon-backward"),B=k.find(".icon-forward2"),C=null,D=0,E=250;p.autoplay&&(C=setInterval(e,p.interval)),f(),a(window).on("resize",f),q||(g(),a(window).on("resize",g)),x.click(function(b){e(a(this).data("idx")-1),i(!0)}),A.click(function(a){e(D-1),i(!0)}),B.click(function(){e(D+1),i(!0)}),z.click(function(){i(!1)}),y.click(function(){e(),C=setInterval(e,p.interval)})}var c=a(".wp-sps-wrapper");c.each(b)})}(void 0!==Zepto?Zepto:jQuery);